---
layout: post
title: "PKU 2430 Lazy Cows"
date: 2014-05-05T01:39:00+09:00
comments: true
category: PKU
tags: [dp, compress]
---

[Lazy Cows](http://poj.org/problem?id=2430)

#### 問題概要

****

2*B(<=15,000,000)のセルにN(<=1,000)頭の牛がいる. この牛全てをカバーするようにK(<=N)個の四角形を作る.  
そのときの四角形の面積の総和の最小はいくらか.  


#### 解法

****

DPします.  
1段目と2段目に牛がいるのをbitで表現すると配列1本で考えられるので楽です.  
また, 牛の数がセルの横幅に対して小さいので位置を座圧します.  

各列について, その列を四角形が覆うパターンは5通り.  
![poj2430-01](/images/poj2430-01.png)  
この内一つも覆われていないパターンの列は座圧で牛がいる列を詰めるので存在しない.  
またこの事から左からセルをなめていくと, 各列は前の列の状態だけから更新されるようなDPを考えられる.  
dp[i][k][u] := i列目でk個四角形が存在して状態がuであるものの最小の面積  
状態というのは列の覆い方.  

あとは場合分けを適当にする.  
前の状態から四角形を何個現在の状態につなげるのかを考えれば楽.  


#### コード

****

{{< includeCode "/PKU/2430.cpp" "cpp" >}}

