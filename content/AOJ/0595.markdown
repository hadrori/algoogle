---
layout: post
title: "AOJ 0595 Schedule"
date: 2014-05-10T15:50:00+09:00
comments: true
category: AOJ
tags: [dp]
---

[Schedule](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0595)

#### 問題概要

****

N日間, 毎日3人のうち誰が必ず来るか決まっている.  
部室の鍵は最初Jが持っているが, 毎日持って帰るのはだれでもいい(ただし持って帰った場合は次の日来なければならない)  
このときN日間の3人の出席パターンの数を求めよ.

#### 解法

****

i日目に3人が出席するかどうかをビットで管理してbitDPする.  
dp[i][j] := i日目の3人の出席状況j(ビットが立っていれば出席)  
あとは必ず出席する人が出席しているとき, 次の状態とandを取って0でないならどちらにも出席している人が存在するのでその人が鍵を持って帰っていることにする(そうでないならそのようなパターンは存在しないので無視).  
0日目はJだけが参加したことにすれば初日に鍵を持っているのはJにできる.  
責任者はjのビットを見れば来ているかわかるので来ていないパターンは無視.  

#### コード

****

{{< includeCode "/AOJ/0595.cpp" "cpp" >}}

