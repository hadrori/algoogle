---
layout: post
title: "AOJ 0503 Cup"
date: 2014-08-25T18:50:00+09:00
comments: true
category: AOJ
tags: [math]
---

[Cup](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=0503)

#### 問題概要

****

カップを円盤に見立てたハノイの塔の初期状態が与えられる(塔は左から順にABC).  
移動可能な各カップは1ステップで左右どちらか1つ分しか移動できない(AからCなどの移動は不可能).
この状態からm回以内にAに全てのカップがあるかCに全てのカップがあるかの状態にしたい.  
最小のステップを求めよ.

#### 解法

****

Aに全てのカップがある場合とCに全てのカップがある場合を初期状態としてもよい.  
このとき一番小さいカップから目的の位置に移動させることを考える.  
Aから一番小さいカップiを移動させるには上の他のカップをCに移動させ, そのあとiをBに移動する.  
これに必要なステップ数は上に載ってる数をkとすると`$3^k$`.  
さらにBからCに移動させるにはさっきCに移動させたカップをAに戻して, iをBからCに移動する.  
このステップ数は対称な動きをしているので上と同じ.  
  
移動の方法はこれだけなので, 現在より大きいカップは常に全てAかCにまとまっている.  
よってこれをカップの小さい順に繰り返せば求めたい回数が計算できる.

#### コード

****

{{< includeCode "/AOJ/0503.cpp" "cpp" >}}
