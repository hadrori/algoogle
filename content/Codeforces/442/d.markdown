---
layout: post
title: "Codeforces 442D Adam and Tree"
date: 2014-06-24T22:59:00+09:00
comments: true
category: Codeforces
tags: [tree,dp]
---

[Adam and Tree](http://codeforces.com/problemset/problem/442/D)

#### 問題概要

****

根付き木を考える.  
木の各辺には色を塗ることができるが, ある頂点に隣接する辺のうち色が被っていいのは1色だけで3つ以上の辺の色が被ってはいけない.  
このとき根と各節点をつなぐパスを考えたとき, 出現する色の数をコストとする.  
さらにそのような全てのパスのコストの最大値が木のコストになる.  
今, 根のみの木があって順に節点を追加していく時, 各節点を追加した直後の木のコストの最小値を求めよ.

#### 解法

****

ある頂点vに対してその子が根となる部分木のコストを考える.  
そうするとその頂点を根とする部分木のコストは子のコストのうち, 大きい2つに依存する.  
なぜなら一番大きい子に張る辺とvとvの親を結ぶ辺の色を同じにしないと, 明らかに全体のコストがさらに1大きくなってしまうから. 2番目以降はコスト+1する.  
あとはこれを素直に実装すればよい.  
毎回の更新で更新がなければそこでうち切ること.  

#### コード

****

{{< includeCode "/Codeforces/442D.cpp" "cpp" >}}
