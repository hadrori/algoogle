---
layout: post
title: "JOI 春合宿 2011 Report"
date: 2014-09-28T23:00:00+09:00
comments: true
category: JOI
tags: [strongly-connected-component, binary-indexed-tree]
---

[Report](http://joisc2011.contest.atcoder.jp/tasks/joisc2011_report)

#### 問題概要

****

N個の人がいる, 各人はその番号より小さい番号の人の仕事が終わってから始める.  
またそれぞれ仕事の報告をする相手が決まっている.  
報告を受けたらさらにその報告を回す.  
また2回以上報告を受ける場合は2回目以降は無視する.  
それぞれの人が仕事の開始時までに受ける報告の仕事の数を求めよ.

#### 解法

****

閉路が存在する場合, その閉路内で報告が回せるので1つ塊としてみて良い.  
そこで閉路を強連結成分分解して潰す.  
そうすると複数の木ができるので各木で根からオイラーツアーして頂点に入るときと出るときに番号をふる.  
あとは各人が属する強連結成分について, そこに入ってから出るまでの部分木内で発生した報告の総数を求める.  
これはオイラーツアーしで振った番号で区間になるのでBITで管理すれば良い.  
仕事が完了したらその強連結成分に入るときの位置に1足せばその強連結成分内で発生した報告のカウントが出来る.

#### 

****

{{< includeCode "/JOI/2011/report.cpp" "cpp" >}}
