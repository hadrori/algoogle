---
layout: post
title: "PKU 2229 Sumsets"
date: 2014-05-13 16:30:18 +0900
comments: true
category: PKU
tags: [dp]
---

[Sumsets](http://poj.org/problem?id=2229)

#### 問題概要

****

#### 解法

****

各数は今までに使った値の最大以上の値をうしろにくっつけることで作れる.  
つまり 1 + 2 で 3 が作られるとき, 2, 4, 8 ... が足すことができる.  
よって各数のうしろに 1 を足す場合の数, 2を足す場合の数 ... と求めることができる.  

```
for i in 1, 2, 4, 8 ...
    for j in i+0, i+1, i+2, i+3 ...
        dp[i+j] += dp[j]
```

となるので O(N log N) で間に合う. #code1  
  
が O(N) 解法が存在した. #code2  
ある数 i を作るには i-1 に 1 を足すのと i/2 を2倍するかだけですべての場合をカバーできる.  
サンプルの場合は6の場合に1を足すだけで表現できる. (奇数は偶数+1でしか表せない)  
6 は 5+1 か 3 * 2 で表現されていることがわかる.  

#### コード

****

\#code1
{% include_code PKU/2229.cpp %}

\#code2
{% include_code PKU/2229_2.cpp %}
