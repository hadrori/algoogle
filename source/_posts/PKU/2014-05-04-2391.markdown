---
layout: post
title: "PKU 2391 Ombrophobic Bovines"
date: 2014-05-04 16:00:09 +0900
comments: true
category: PKU
tags: [max-flow, binary-search]
---

[Ombrophobic Bovines](http://poj.org/problem?id=2391)

#### 問題概要

****

各場所にそれぞれ何頭か牛がいて, また各場所には定員がそれぞれ決まっているシェルターがある.<br>
各場所はP本のパスでつながっている.<br>
全ての牛がシェルターに避難するときの最短の時間はいくらになるか.<br>
また, すべての牛が避難できない時は-1を出力せよ.


#### 解法

****

牛とシェルターをマッチングして, 時間を二分探索する.<br>

予め各場所間の最短時間をワーシャルフロイドで求めておく.<br>
ソースから各場所にそれぞれ牛の容量の辺を張って, そこからさらに各シェルターに対応する場所に容量無限の辺を張る.<br>
あとはそこからシンクにシェルターの容量の辺を張れば最大流を求められる.<br>

二分探索の判定は, 定数mに対して時間がm以下の辺だけを使うように最大流を求め, それが牛の合計と一致するかで判定できる.


#### コード

****

{% include_code PKU/2391.cpp %}

