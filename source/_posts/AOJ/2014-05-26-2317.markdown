---
layout: post
title: "AOJ 2317 Class Representative Witch"
date: 2014-05-26 17:50:51 +0900
comments: true
category: AOJ
tags: [implementation]
---

[Class Representative Witch](http://judge.u-aizu.ac.jp/onlinejudge/description.jsp?id=2317)

#### 問題概要

****

#### 解法

****

各糸について, 端点を切られる位置に移動させて考える.  
そうするとある切断点について, 残る糸の始まりと終わりが現れることがあるので  
その個数を数えておく.  
終わりの点は, 残る糸の最後の点になるようにする.  
使い魔が持っている点は糸を直近の切断点まで"伸ばす".  
伸ばした部分はあらかじめ答えから引いておく.  
始点と終点の間に偶数個の切断点があれば使い魔が持っていない端点の糸も残る.  
残る場合はその点を直近の切断点まで伸ばして, 伸ばした分を答えから引く.  
そうでないなら一番近い切断点まで糸を切断する.  
  
こうしてできた各端点について, 近い方をon, 遠い方をoffとしてカウントする.  
あとはonになっている数とoffになってる数をもって切断点を順に舐めて, (上のonとoffとは違う)  
各区間の長さをonの分答えを足す.  
その点で終わる数の分onを減らして  
onとoffを入れ替える.  
そしてそこで始まる数の分onを増やす.  

#### コード

****

{% include_code AOJ/2317.cpp %}
