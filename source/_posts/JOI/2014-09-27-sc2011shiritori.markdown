---
layout: post
title: "JOI 春合宿 2011 Shiritori"
date: 2014-09-27 15:10:18 +0900
comments: true
category: JOI
tags: [graph, euler-path]
---

[Shiritori](http://joisc2011.contest.atcoder.jp/tasks/joisc2011_shiritori)

#### 問題概要

****

2桁の数字で文字を表す.  
この5文字の単語(つまり10桁の数字)でしりとりをする.  
いまN個の単語が与えられるのでそれ全てを使うようなしりとりを答えろ.  
複数ある場合は辞書順最小のものを答えろ

#### 解法

****

各単語の最初の文字から最後の文字への有向辺を考える.  
この有向グラフ上の辞書順最小のオイラー路を考えれば良い.  
辞書順は辺を見る順を辞書順にするだけで達成できる.  
  
連結なグラフがオイラー路を持つ条件は以下の2つどちらかを満たすこと  

* 各頂点の入力辺の数と出力辺の数が等しい(オイラー閉路をもつ)

* 始点の出力辺の数が入力辺より1つ多く, 終点の入力辺の数が出力辺より1つ多く, その他の頂点は入力辺と出力辺の数が等しい

今回の問題ではそもそも連結にならない可能性があることにも注意すること.  
オイラー閉路をもつ場合は始点を辞書順最小の頂点にする.  
あとは有向グラフをdfsで潜っていき, 辺を戻るときにその辺に対応する単語を答えの頭に追加していけばよい.

#### コード

****

{% include_code JOI/2011/shiritori.cpp %}
