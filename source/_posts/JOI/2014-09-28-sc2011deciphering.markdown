---
layout: post
title: "JOI 春合宿 2011 Deciphering"
date: 2014-09-28 01:15:14 +0900
comments: true
category: JOI
tags: [dp]
---

[Deciphering](http://joisc2011.contest.atcoder.jp/tasks/joisc2011_deciphering)

#### 問題概要

****

長さNの文字列とM個の禁止ルール(連続してはいけない2文字)が与えられる.  
その文字列から任意個の文字消して長さ1以上の禁止ルールを含まない文字列を得るとき, 得られる何通りあるか.

#### 解法

****

削除するのではなく頭から順に文字を加えるかどうかでDPする.  
dp\[i\]\[j\] := 入力文字列のi文字目までで文字jが最後に来る場合の数  
とすれば更新は文字jに現在の文字cを加えるかどうかでできる(禁止ルールに反するなら加えない).  
空文字列に加える場合もある(得られる文字列がそこから始まる場合)  
加えないならdp[i+1][j] = dp[i][j]  
加えるならdp[i+1][c] += dp[i][j]  
ただしj=cのときは加えない場合を無視する(空文字列に加える場合と他の文字に加える場合に完全に包含されるため)

#### コード

****

{% include_code JOI/2011/deciphering.cpp %}
